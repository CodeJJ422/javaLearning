# 2025-10-08 å­¦ç¿’è¨˜éŒ²

## ğŸ“˜ å­¦ã‚“ã ã“ã¨
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
- Lombok
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆæ–¹æ³•
- ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆæ–¹æ³•
- ãƒªãƒã‚¸ãƒˆãƒª
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆã‹ã‚‰å–å¾—ã¾ã§ã®æµã‚Œã®ã¾ã¨ã‚

## ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨é€£æºã™ã‚‹éš›ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚
ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ã¯ãƒ†ãƒ¼ãƒ–ãƒ«ã®å„ã‚«ãƒ©ãƒ ã«å¯¾å¿œã—ãŸå¤‰æ•°ã‚’ç”¨æ„ã™ã‚‹ã€‚

```java
public class PostEntity {
   private long id;
   private String memo;
}
```

ã¾ãŸã€ä»¥ä¸‹ã®è¨­å®šãŒå¿…è¦
- ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
- ã‚²ãƒƒã‚¿ãƒ¼ã¨ã‚»ãƒƒã‚¿ãƒ¼

## ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã¨ãã«æœ€åˆã«å‘¼ã°ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«åˆæœŸå€¤ã‚’å…¥ã‚Œã‚‹ãŸã‚ã®ä»•çµ„ã¿ã®ã“ã¨ã€‚

```java
// ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ï¼ˆåˆæœŸå€¤ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ï¼‰
    public PostEntity(long id, String memo) {
       this.id = id;
       this.memo = memo;
   }
```

ã“ã†ã™ã‚‹ã“ã¨ã§ã€æ–°ã—ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹æ™‚ã«åŒæ™‚ã«å€¤ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

## Lombok
ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚„ã‚²ãƒƒã‚¿ãƒ¼ã‚»ãƒƒã‚¿ãƒ¼ã®ç”Ÿæˆã‚’è‡ªå‹•ã§è¡Œã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚

```
import lombok.AllArgsConstructor;
import lombok.Data;

@AllArgsConstructor
@Data
public class PostEntity {
   private long id;
   private String memo;
}
```

- @AllArgsConstructorã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®è‡ªå‹•ç”Ÿæˆ
- @Dataã¯ã‚²ãƒƒã‚¿ãƒ¼ã‚»ãƒƒã‚¿ãƒ¼ã®è‡ªå‹•ç”Ÿæˆ

ã“ã‚Œã‚‰ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®è¨˜è¿°ã‚’ç°¡å˜ã«ã§ãã‚‹ã€‚

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆæ–¹æ³•
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦
```
mysql -u root
```
```
mysql> create database â—‹â—‹;
```
```
mysql> exit;
```

## ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆæ–¹æ³•
resourcesãƒ•ã‚©ãƒ«ãƒ€ã®ç›´ä¸‹ã«ã€Œschema.sqlã€ã‚’ä½œæˆ

```
CREATE TABLE IF NOT EXISTS posts(ã€Œpostsã€ã¯ãƒ†ãƒ¼ãƒ–ãƒ«å) (
    id BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    memo VARCHAR(256) NOT NULL
);
```

## ãƒªãƒã‚¸ãƒˆãƒª
SQLã®æ“ä½œã‚’Javaã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦å®šç¾©ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã€‚
ã€Œã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ã«è¨˜è¿°ã•ã‚Œã‚‹ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã‚¯ãƒ©ã‚¹ã®å…ƒã®ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚‹ã€‚
- MyBatisã‚’ä½¿ç”¨ã—ãŸè¨˜è¿°ä¾‹
```java
package com.example.demo.mapper;

import com.example.demo.entity.User;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.Update;

import java.util.List;

@Mapper  // ã“ã‚Œã‚’ä»˜ã‘ã‚‹ã¨SpringãŒã“ã“ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ã¯SQLã§ã‚ã‚‹ã¨èªè­˜ã™ã‚‹ã€‚
public interface UserMapper {

    // å…¨ä»¶å–å¾—
    @Select("SELECT * FROM users")
    List<User> findAll();

    // IDã§å–å¾—
    @Select("SELECT * FROM users WHERE id = #{id}")
    User findById(Long id);

    // æ–°è¦ç™»éŒ²
    @Insert("INSERT INTO users(name, email) VALUES(#{name}, #{email})")
    void insert(User user);

    // æ›´æ–°
    @Update("UPDATE users SET name = #{name}, email = #{email} WHERE id = #{id}")
    void update(User user);

    // å‰Šé™¤
    @Delete("DELETE FROM users WHERE id = #{id}")
    void delete(Long id);
}
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆã‹ã‚‰å–å¾—ã¾ã§ã®æµã‚Œã®ã¾ã¨ã‚

1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œã‚‹ï¼ˆMySQLãªã©ï¼‰
   â†“
2. ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾å¿œã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼‰ã‚’ä½œã‚‹
   â†“
3. ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚‹
   â†“
4. ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹
   â†“
5. Modelã‚’é€šã—ã¦ãƒ“ãƒ¥ãƒ¼ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™